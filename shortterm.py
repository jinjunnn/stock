import datetime
import apis.futu_api as ft

stocklist = ['000960','301191','300763','002738','601615','600309','603260','002240','002487','300244','002245','002960','600885','000708','601869','002984','002765','601677','000959','603808','600426','300681','300662','300136','301050','300687','300815','300984','300218','301191','300791','301058','301040','301099','300638','301221','300432','301092','300196','300395','300777','300759','300776','300476','300628','300390','300672','300482','300122','300014','300316','300496','300604','300502','300763','300775','300750','300244','300363','002989','603039','601882','002585','603113','600765','003029','002960','002649','002648','603663','002915','002968','603233','002859','605066','002009','002335','603588','603877','605090','605398','002191','002008','603565','600782','601677','000811','002978','002886','601163','002429','605189','603678','600150','600282','600038','603809','600729','603587','605060']


def modify_stocklist(stocklist):
    _list = []
    for item in stocklist:
        if item[0] == '6':
            _list.append('SH.' + item[0:6]) 
        else:
            _list.append('SZ.' + item[0:6])
    return _list

#字符串类型的数据，用于查询富途数据
def date_shift(days):
    return (datetime.datetime.now()-datetime.timedelta(days=days)).strftime('%Y-%m-%d')

#字符串类型的数据，用于查询富途数据
def today():
    return datetime.datetime.now().strftime('%Y-%m-%d')


if __name__ == '__main__':
    ktype = 15
    start_date = date_shift(60)
    end_date = today()
    amount = 300 # 多少条K线
    ft.get_realtime_kline(modify_stocklist(stocklist),ktype,start_date,end_date,amount)